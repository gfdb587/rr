<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>圣诞快乐</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            overflow: hidden;
            background: #000;
        }

        /* 固定背景图片 */
        #bg-image {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 1;
            pointer-events: none;
        }

        .effects {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2;
            pointer-events: none;
        }

        /* 细雪 */
        .fine-snow {
            position: absolute;
            width: 3px;
            height: 3px;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 0 8px #fff;
            animation: fall linear infinite;
        }

        @keyframes fall {
            0% { transform: translateY(-10px) translateX(0); opacity: 0; }
            10% { opacity: 0.7; }
            90% { opacity: 0.7; }
            100% { transform: translateY(110vh) translateX(var(--sway)); opacity: 0; }
        }

        /* 祝福语 */
        #blessings {
            position: absolute;
            top: 50%;
            right: 6%;
            transform: translateY(-50%);
            font-family: "SimSun", "宋体", serif;
            font-size: 3.8rem;
            font-weight: bold;
            color: #fff;
            text-shadow: 2px 2px 10px rgba(0,0,0,0.8),
                         0 0 20px rgba(255,215,0,0.6);
            writing-mode: vertical-rl;
            text-orientation: upright;
            letter-spacing: 1.8em;
            line-height: 2.2;
            white-space: nowrap;
            z-index: 5;
            pointer-events: none;
        }

        .char {
            display: inline-block;
            opacity: 0;
            transform: translateY(30px);
            animation: appear 0.8s ease-out forwards;
        }

        @keyframes appear {
            to { opacity: 1; transform: translateY(0); }
        }

        /* 树灯闪烁 */
        .lights {
            position: absolute;
            width: 15px;
            height: 15px;
            background: radial-gradient(circle, #fff, #fffa90);
            border-radius: 50%;
            box-shadow: 0 0 20px #fff, 0 0 35px gold;
            animation: twinkle linear infinite;
            z-index: 4;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.6; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.6); }
        }

        /* 点击雪花炸开 */
        .click-snowflake {
            position: absolute;
            font-size: 40px;
            color: #fff;
            text-shadow: 0 0 10px #fff;
            animation: burst 1s ease-out forwards;
            z-index: 10;
            pointer-events: none;
        }

        @keyframes burst {
            0% { transform: scale(0); opacity: 1; }
            50% { transform: scale(1.3); opacity: 1; }
            100% { transform: scale(0); opacity: 0; }
        }

        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 0 8px #fff;
            animation: particle-fall 1s ease-out forwards;
            pointer-events: none;
        }

        @keyframes particle-fall {
            0% { transform: translate(0,0); opacity: 1; }
            100% { transform: translate(var(--dx), var(--dy)); opacity: 0; }
        }
    </style>
</head>
<body>

    <img id="bg-image" src="https://s41.ax1x.com/2025/12/17/pZlkNeH.jpg" alt="圣诞树背景">

    <div class="effects">
        <div id="blessings"></div>
    </div>

    <script>
        // 祝福语
        const blessings = [
            "圣诞快乐",
            "平安喜乐",
            "阖家安康",
            "温暖常伴",
            "幸福满满",
            "爱与光明"
        ];

        const container = document.getElementById('blessings');
        let index = 0;

        function showText(text) {
            container.innerHTML = '';
            text.split('').forEach((char, i) => {
                const span = document.createElement('span');
                span.textContent = char;
                span.className = 'char';
                span.style.animationDelay = `${i * 0.25}s`;
                container.appendChild(span);
            });
        }

        function nextBlessing() {
            showText(blessings[index]);
            index = (index + 1) % blessings.length;
            setTimeout(nextBlessing, 6000);
        }

        nextBlessing();

        // 细雪 - 密度大
        function createSnow() {
            const snow = document.createElement('div');
            snow.className = 'fine-snow';
            snow.style.left = Math.random() * 100 + 'vw';
            const size = Math.random() * 1.5 + 2;
            snow.style.width = size + 'px';
            snow.style.height = size + 'px';
            const duration = Math.random() * 6 + 14;
            snow.style.animationDuration = duration + 's';
            const sway = (Math.random() - 0.5) * 160;
            snow.style.setProperty('--sway', sway + 'px');
            document.querySelector('.effects').appendChild(snow);
            setTimeout(() => snow.remove(), duration * 1000 + 1000);
        }

        setInterval(createSnow, 180);

        // 树灯位置 - 重新精准对齐，螺旋围着树排（已仔细对照图片调整）
        const lightsPos = [
            {top: '23%', left: '49.5%'},  // 树顶附近
            {top: '27%', left: '51%'},
            {top: '31%', left: '47%'},
            {top: '35%', left: '53%'},
            {top: '39%', left: '46%'},
            {top: '43%', left: '54%'},
            {top: '47%', left: '45%'},
            {top: '51%', left: '55%'},
            {top: '55%', left: '47%'},
            {top: '59%', left: '53%'},
            {top: '33%', left: '49%'},
            {top: '41%', left: '50.5%'},
            {top: '49%', left: '49%'},
            {top: '37%', left: '51%'},
            {top: '45%', left: '48%'}
        ];

        lightsPos.forEach(pos => {
            const light = document.createElement('div');
            light.className = 'lights';
            light.style.top = pos.top;
            light.style.left = pos.left;
            light.style.animationDelay = Math.random() * 2 + 's';
            light.style.animationDuration = (Math.random() * 2 + 2.5) + 's';
            document.querySelector('.effects').appendChild(light);
        });

        // 点击雪花炸开特效
        document.body.addEventListener('click', function(e) {
            const x = e.clientX;
            const y = e.clientY;

            const snowflake = document.createElement('div');
            snowflake.className = 'click-snowflake';
            snowflake.textContent = '❄';
            snowflake.style.left = (x - 20) + 'px';
            snowflake.style.top = (y - 20) + 'px';
            document.body.appendChild(snowflake);

            for (let i = 0; i < 10; i++) {
                const p = document.createElement('div');
                p.className = 'particle';
                const angle = (i / 10) * Math.PI * 2;
                const dist = 50 + Math.random() * 30;
                const dx = Math.cos(angle) * dist;
                const dy = Math.sin(angle) * dist;
                p.style.setProperty('--dx', dx + 'px');
                p.style.setProperty('--dy', dy + 'px');
                p.style.left = x + 'px';
                p.style.top = y + 'px';
                document.body.appendChild(p);
                setTimeout(() => p.remove(), 1000);
            }

            setTimeout(() => snowflake.remove(), 1000);
        });
    </script>
</body>
</html>